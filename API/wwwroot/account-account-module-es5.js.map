{"version":3,"sources":["webpack:///src/app/account/account-routing.module.ts","webpack:///src/app/account/account.module.ts","webpack:///src/app/account/login/login.component.ts","webpack:///src/app/account/login/login.component.html","webpack:///src/app/account/register/register.component.ts","webpack:///src/app/account/register/register.component.html"],"names":["routes","path","component","AccountRoutingModule","forChild","imports","exports","AccountModule","declarations","LoginComponent","accountService","router","createLoginForm","loginForm","email","required","password","login","value","subscribe","navigateByUrl","error","console","log","onSubmit","selector","templateUrl","styleUrls","RegisterComponent","formBuilder","createRegisterForm","registerForm","group","displayName","pattern","chackUniqueMail","register","err","errors","control","pipe","checkEmailExists","res","emailExists"],"mappings":"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","file":"account-account-module-es5.js","sourcesContent":["import { RegisterComponent } from './register/register.component';\nimport { LoginComponent } from './login/login.component';\nimport { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\n\nconst routes: Routes = [\n  {path: 'login', component: LoginComponent},\n  {path: 'register', component: RegisterComponent}\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class AccountRoutingModule { }\n","import { SharedModule } from './../shared/shared.module';\nimport { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { AccountRoutingModule } from './account-routing.module';\nimport { LoginComponent } from './login/login.component';\nimport { RegisterComponent } from './register/register.component';\n\n\n@NgModule({\n  declarations: [LoginComponent, RegisterComponent],\n  imports: [\n    CommonModule,\n    AccountRoutingModule,\n    SharedModule\n  ]\n})\nexport class AccountModule { }\n","import { AccountService } from './../account.service';\nimport { Component, OnInit } from '@angular/core';\nimport { FormGroup, FormControl, Validators } from '@angular/forms';\nimport { Router } from '@angular/router';\n\n@Component({\n  selector: 'app-login',\n  templateUrl: './login.component.html',\n  styleUrls: ['./login.component.scss']\n})\nexport class LoginComponent implements OnInit {\n  loginForm: FormGroup;\n\n  constructor(private accountService: AccountService, private router: Router) { }\n\n  ngOnInit(): void {\n    this.createLoginForm();\n  }\n\n  createLoginForm(){\n    this.loginForm = new FormGroup({\n      email: new FormControl('', Validators.required),\n      password: new FormControl('', Validators.required)\n    });\n  }\n\n  onSubmit(){\n    this.accountService.login(this.loginForm.value).subscribe(() => {\n      this.router.navigateByUrl('/shop');\n    }, error => {\n      console.log(error);\n    });\n  }\n\n}\n","<div class=\"d-flex justify-content-center mt-5\">\n    <div class=\"col-3\">\n        <form [formGroup]=\"loginForm\" (ngSubmit)=\"onSubmit()\" class=\"form-signin\">\n            <div class=\"text-center mb-4\">\n              <h1 class=\"h3 mb-3 font-weight-normal\">Login</h1>\n            </div>\n          \n            <div class=\"form-label-group\">\n              <input formControlName=\"email\" type=\"email\" id=\"inputEmail\" class=\"form-control\" placeholder=\"Email address\">\n              <label for=\"inputEmail\">Email address</label>\n            </div>\n          \n            <div class=\"form-label-group\">\n              <input formControlName=\"password\" type=\"password\" id=\"inputPassword\" class=\"form-control\" placeholder=\"Password\" >\n              <label for=\"inputPassword\">Password</label>\n            </div>\n          \n            <div class=\"checkbox mb-3\">\n            </div>\n            <button class=\"btn btn-lg btn-primary btn-block\" type=\"submit\">Sign in</button>\n          </form>\n    </div>\n</div>","import { Component, OnInit } from '@angular/core';\nimport { FormGroup, FormBuilder, Validators, AsyncValidatorFn } from '@angular/forms';\nimport { AccountService } from '../account.service';\nimport { Router } from '@angular/router';\nimport { timer, of } from 'rxjs';\nimport { map, switchMap } from 'rxjs/operators';\n\n@Component({\n  selector: 'app-register',\n  templateUrl: './register.component.html',\n  styleUrls: ['./register.component.scss']\n})\nexport class RegisterComponent implements OnInit {\n  registerForm: FormGroup;\n  errors: string[];\n\n  constructor(private formBuilder: FormBuilder, private accountService: AccountService, private router: Router) { }\n\n  ngOnInit() {\n    this.createRegisterForm();\n  }\n\n  createRegisterForm() {\n    this.registerForm = this.formBuilder.group({\n      displayName: [null, [Validators.required]],\n      email: [null, [Validators.required,\n        Validators.pattern('^[\\\\w-\\\\.]+@([\\\\w-]+\\\\.)+[\\\\w-]{2,4}$')],\n        // async validators will be called once sync validators passed\n        [this.chackUniqueMail()]\n      ],\n      password: [null, [Validators.required]]\n    });\n  }\n\n  onSubmit() {\n    this.accountService.register(this.registerForm.value).subscribe(() => {\n      this.router.navigateByUrl('/shop');\n    }, (err) => {\n      console.log(err);\n      this.errors = err.errors;\n    });\n  }\n\n  chackUniqueMail(): AsyncValidatorFn {\n    // we are returning inner observable to outer Observable which is control via switch map\n    return control => {\n      return timer(500).pipe(\n        switchMap(() => {\n          if (!control.value) {\n            return of(null);\n          }\n          return this.accountService.checkEmailExists(control.value).pipe(\n          map(res => {\n            return res ? {emailExists : true } : null;\n          })\n        );\n    }));\n  };\n}\n}\n","<div class=\"d-flex justify-content-center mt-5\">\n    <div class=\"col-3\">\n        <form [formGroup]=\"registerForm\" (ngSubmit)=\"onSubmit()\">\n            <div class=\"text-center mb-4\">\n               <h1 class=\"h3 mb-3 font-weight-normal\">Register</h1>\n             </div>\n             <app-text-input formControlName=\"displayName\" [label]=\"'Display Name'\"></app-text-input>\n             <app-text-input formControlName=\"email\" [label]=\"'Email Address'\"></app-text-input>\n             <app-text-input formControlName=\"password\" [label]=\"'Password'\" [type]=\"'password'\"></app-text-input>\n              \n             <ul class=\"text-danger list-unstyled\" *ngIf=\"errors\">\n                 <li *ngFor=\"let err of errors\">\n                     {{err}}\n                 </li>\n             </ul>\n            <button [disabled]=\"registerForm.invalid\" class=\"btn btn-lg btn-primary btn-block\" type=\"submit\">Sign in</button>\n       </form>\n    </div>\n</div>\n"]}